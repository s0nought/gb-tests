# Instructions

- Following Playwright test failed.
- Explain why, be concise, respect Playwright best practices.
- Provide a snippet of code with the fix, if possible.

# Test info

- Name: UI >> Core >> Search >> Find a mod by its title and properties
- Location: /home/runner/work/gb-tests/gb-tests/tests/search.spec.ts:36:11

# Error details

```
TimeoutError: locator.click: Timeout 20000ms exceeded.
Call log:
  - waiting for locator('.select2-dropdown').locator('[role=\'listbox\']').locator('li[role=\'option\']:first-child')
    - locator resolved to <li role="option" aria-disabled="true" data-select2-id="select2-data-9-32sz" class="select2-results__option select2-results__option--disabled loading-results">Searching…</li>
  - attempting click action
    2 × waiting for element to be visible, enabled and stable
      - element is not enabled
    - retrying click action
    - waiting 20ms
    2 × waiting for element to be visible, enabled and stable
      - element is not enabled
    - retrying click action
      - waiting 100ms
    - waiting for element to be visible, enabled and stable
    - element is not enabled
  - retrying click action
    - waiting 500ms
    - waiting for element to be visible, enabled and stable
  - element was detached from the DOM, retrying

    at /home/runner/work/gb-tests/gb-tests/elements/common.ts:33:26
    at CommonElement.click (/home/runner/work/gb-tests/gb-tests/elements/common.ts:32:16)
    at SearchPage.selectGame (/home/runner/work/gb-tests/gb-tests/pages/search-page.ts:98:23)
    at /home/runner/work/gb-tests/gb-tests/tests/search.spec.ts:53:11
```

# Page snapshot

```yaml
- navigation:
  - link "Logo":
    - img "Logo"
  - link "Friday Night Funkin' icon":
    - img "Friday Night Funkin' icon"
  - link "Dr. Robotnik's Ring Racers icon":
    - img "Dr. Robotnik's Ring Racers icon"
  - 'link "Counter-Strike: Condition Zero icon"':
    - 'img "Counter-Strike: Condition Zero icon"'
  - link "Wuthering Waves icon":
    - img "Wuthering Waves icon"
  - link "Pizza Tower icon":
    - img "Pizza Tower icon"
  - textbox "Search..."
  - button "Site Search"
  - link "v2.0449"
  - text: 65Þ (+1Þ)
  - button "Site Menu"
- navigation:
  - img "Personal"
  - link "Activity"
  - link "NavOptions"
- heading "Search" [level=1]
- navigation:
  - link "Search"
- text: Search Term
- superscript: "*"
- textbox "Search Term *": ZBOT NAV Editor Command Menu
- text: Section
- combobox "Section":
  - option "Any"
  - option "Apps"
  - option "Articles"
  - option "Bugs"
  - option "Blogs"
  - option "Clubs"
  - option "Contests"
  - option "Concepts"
  - option "Events"
  - option "Games"
  - option "Ideas"
  - option "Initiatives"
  - option "Jams"
  - option "Mods" [selected]
  - option "Models"
  - option "Members"
  - option "News"
  - option "Polls"
  - option "Projects"
  - option "Questions"
  - option "Reviews"
  - option "Requests"
  - option "Scripts"
  - option "Sounds"
  - option "Sprays"
  - option "Studios"
  - option "Threads"
  - option "Tools"
  - option "Tutorials"
  - option "Wikis"
  - option "WiPs"
- text: Game
- combobox [expanded]:
  - textbox
  - listbox [expanded]:
    - alert: The results could not be loaded.
- button "Advanced Options"
- button "Search"
- text: No submissions found.
- strong: Site
- list:
  - listitem:
    - link "About"
  - listitem:
    - link "FAQ"
  - listitem:
    - link "Contact"
- strong: Network
- list:
  - listitem:
    - link "gbAPI"
  - listitem:
    - link "gbAPI - Old"
  - listitem:
    - link "BananaExchange"
  - listitem:
    - link "genr8rs"
  - listitem:
    - link "banana.org"
- strong: Members
- list:
  - listitem:
    - link "Login"
  - listitem:
    - link "Register"
  - listitem:
    - link "Online (2,032)"
  - listitem:
    - link "Index (3,412,395)"
- strong: Legal
- list:
  - listitem:
    - link "Site Rules"
  - listitem:
    - link "Terms of Service"
  - listitem:
    - link "Privacy Policy"
  - listitem:
    - link "DMCA Policy"
  - listitem:
    - link "Sexual Harassment"
  - listitem:
    - link "Age Restrictions"
  - listitem:
    - text: "For California Residents:"
    - link "Do Not Sell My Personal Information"
- list:
  - listitem:
    - link "Gamebanana Discord"
  - listitem:
    - link "Gamebanana Steam"
  - listitem:
    - link "Gamebanana Bluesky"
  - listitem:
    - link "Gamebanana Twitter"
  - listitem:
    - link "Gamebanana Youtube"
  - listitem:
    - link "Gamebanana Facebook"
- list:
  - listitem:
    - link "Feedback"
  - listitem:
    - link "Bugs"
- img
- searchbox "Search": Counter-Strike 1.6
```

# Test source

```ts
   1 | import { type Locator, expect, test } from "@playwright/test";
   2 |
   3 | export class CommonElement {
   4 |   constructor(
   5 |     protected readonly description: string,
   6 |     protected readonly locator: Locator
   7 |   ) {
   8 |     this.description = description;
   9 |     this.locator = locator;
  10 |   }
  11 |
  12 |   public async assertAttribute(name: string, value: string): Promise<void> {
  13 |     await test.step(`Assert ${
  14 |       this.description
  15 |     } attribute "${name}" value is ${JSON.stringify(value)}`, async () => {
  16 |       await expect(this.locator).toHaveAttribute(name, value);
  17 |     });
  18 |   }
  19 |
  20 |   public async assertTextContent(
  21 |     text: string | RegExp | string[] | RegExp[]
  22 |   ): Promise<void> {
  23 |     // RegExp is serialized to "{}" with JSON.stringify()
  24 |     await test.step(`Assert ${this.description} text content is ${String(
  25 |       text
  26 |     )}`, async () => {
  27 |       await expect(this.locator).toHaveText(text);
  28 |     });
  29 |   }
  30 |
  31 |   public async click(): Promise<void> {
  32 |     await test.step(`Click ${this.description}`, async () => {
> 33 |       await this.locator.click();
     |                          ^ TimeoutError: locator.click: Timeout 20000ms exceeded.
  34 |     });
  35 |   }
  36 |
  37 |   public async hover(): Promise<void> {
  38 |     await test.step(`Hover ${this.description}`, async () => {
  39 |       await this.locator.hover();
  40 |     });
  41 |   }
  42 | }
  43 |
```

# Local changes

```diff
diff --git a/.github/workflows/debug.yml b/.github/workflows/debug.yml
new file mode 100644
index 0000000..641d696
--- /dev/null
+++ b/.github/workflows/debug.yml
@@ -0,0 +1,44 @@
+name: debug
+
+on: [pull_request]
+
+jobs:
+  debug:
+    runs-on: ubuntu-latest
+
+    permissions:
+      contents: write
+
+    steps:
+      - uses: actions/checkout@v4
+      - uses: actions/setup-node@v4
+        with:
+          node-version: "22.14.0"
+      - run: npm install
+      - run: npx playwright install chromium --with-deps
+      - run: cp .env.sample .env
+      - run: npm run e2e
+        env:
+          GB_USER_LOGIN: ${{ vars.GB_USER_LOGIN }}
+          GB_USER_PASSWORD: ${{ secrets.GB_USER_PASSWORD }}
+      - uses: actions/checkout@v4
+        if: always()
+        continue-on-error: true
+        with:
+          ref: gh-pages
+          path: gh-pages
+      - uses: simple-elf/allure-report-action@master
+        if: always()
+        id: allure-report
+        with:
+          allure_results: allure-results
+          gh_pages: gh-pages
+          allure_report: allure-report
+          allure_history: allure-history
+          keep_reports: 20
+      - uses: peaceiris/actions-gh-pages@v3
+        if: always()
+        with:
+          github_token: ${{ secrets.GITHUB_TOKEN }}
+          publish_branch: gh-pages
+          publish_dir: allure-history
diff --git a/playwright.config.ts b/playwright.config.ts
index d748b12..f894899 100644
--- a/playwright.config.ts
+++ b/playwright.config.ts
@@ -31,6 +31,9 @@ export default defineConfig<IUserCredentials>({
       name: "setup",
       testDir: testsSetupDir,
       testMatch: /.*\.setup\.ts/,
+      use: {
+        ...devices["Desktop Chrome"],
+      },
     },
     {
       name: "chromium",
diff --git a/tests/submission.spec.ts b/tests/submission.spec.ts
index 742fe9b..142c3fb 100644
--- a/tests/submission.spec.ts
+++ b/tests/submission.spec.ts
@@ -16,8 +16,6 @@ test.describe("UI", () => {
           tag: ["@cjm"],
         },
         async ({ submissionViewPage }) => {
-          test.skip(process.env.CI === "true", "Works fine locally. Won't work on CI though.");
-
           await allure.severity(allure.Severity.CRITICAL);
 
           const url = "/mods/567136";
@@ -34,8 +32,6 @@ test.describe("UI", () => {
           tag: ["@cjm"],
         },
         async ({ submissionViewPage, submissionEditPage }) => {
-          test.skip(process.env.CI === "true", "Works fine locally. Won't work on CI though.");
-
           await allure.severity(allure.Severity.NORMAL);
 
           const url = "/mods/567136";
@@ -70,8 +66,6 @@ test.describe("UI", () => {
           submissionViewPage,
           gbUserLogin,
         }) => {
-          test.skip(process.env.CI === "true", "Works fine locally. Won't work on CI though.");
-
           await allure.severity(allure.Severity.CRITICAL);
 
           const url = "/games/5538"; // 7 Days To Die
```